@model SalesApp.ViewModel.NormalSaleVM;

@{
    ViewBag.Title = "Add Sale Info";

}
<div class="main-container-rev">
    <div class="container-bg clearfix">

        <div class="container-fluid customer-info-form">

            <!--  <div class="row">
       <div class="info-form-header">
            <h3><i class="las la-user-cog"></i> Customer Information</h3>
          </div>
    </div> -->

            @*<div class="row pad-rl-40 pad-tb-30 info-container">*@

                @*<div class="col-lg-6 col-md-6 col-sm-6">

                    <p class="name-nationality"><span class="fbold name" style="text-transform:capitalize"><i class="las la-user-circle"></i>@Html.DisplayFor(model => model.cinfo.Name)</span><span class="fbold nationality fdark">Nationality: @Html.DisplayFor(model => model.cinfo.Country)</span></p>

                    <p><span class="fregular flight dblock">Address:</span>  <span class="fbold fdark dblock" style="text-transform:capitalize">@Html.DisplayFor(model => model.cinfo.Address),@Html.DisplayFor(model => model.cinfo.City),@Html.DisplayFor(model => model.cinfo.State),@Html.DisplayFor(model => model.cinfo.Country)</span><span style="text-transform:uppercase">,@Html.DisplayFor(model => model.cinfo.Zipcode)</span></p>
                    <p><span class=" fregular flight dblock">Contact Numbers: </span>  <span class="fbold fdark dblock">@Html.DisplayFor(model => model.cinfo.TeleCountryCode)-@Html.DisplayFor(model => model.cinfo.Telephone)/@Html.DisplayFor(model => model.cinfo.MobCountryCode)-@Html.DisplayFor(model => model.cinfo.Mobile)</span></p>
                    <p><span class="fregular flight dblock">Email Address:</span>  <span class="fbold fdark  dblock" style="text-transform:lowercase">@Html.DisplayFor(model => model.cinfo.Email)</span></p>
                    <p><span class="fregular flight dblock">Passport Number:</span>  <span class=" dblock fbold fdark ">@Html.DisplayFor(model => model.dinfo.Passport)</span></p>



                </div>*@

                @*<div class="col-lg-6 col-md-6 col-sm-6">
                    <p><span class="fregular flight dblock">Delivery Type:</span>  <span class="dblock fbold fdark ">@Html.DisplayFor(model => model.deliverytypevalue)</span></p>
                    <p><span class="dblock fregular flight ">Port Type:</span>  <span class="dblock fbold fdark">@Html.DisplayFor(model => model.porttypevalue)</span></p>
                    <p><span class="dblock fregular flight ">Port Name: </span>  <span class="dblock fbold fdark ">@Html.DisplayFor(model => model.dinfo.PortName)</span></p>

                    <p class="expected-date"><span class="dblock fregular flight ">Expected Date:</span> <span class="fbold fdark dblock">@Html.DisplayFor(model => model.dinfo.DeliveryFrom) - @Html.DisplayFor(model => model.dinfo.DeliveryTo)</span></p>

                    <p class="inline-txt"><span class="dblock fregular flight ">C.R.</span> <span class="dblock fbold fdark ">@Html.DisplayFor(model => model.conversionrate)</span></p>
                    <p class="inline-txt"><span class="fregular flight grand-total-head dblock">Grand Total:</span> <span class="fbold grand-total-val dblock">@Html.DisplayFor(model => model.grandtotal)</span></p>

                </div>*@

            @*</div>*@
            <div class="row info-container2 name-nationality">


                <div class="col-lg-6 col-md-6 col-sm-6 ">
                    <p class="name-cust"><i class="las la-user-circle"></i>@Html.DisplayFor(model => model.cinfo.Name)</p>
                    <p class="nationality-cust">@Html.DisplayFor(model => model.cinfo.Country)</p>
                </div>

                <div class="col-lg-6 col-md-6 col-sm-6 text-right">
                    <p class="grand-total-head1">Grand Total</p>
                    <p class="grand-total-val1"> @Html.DisplayFor(model => model.grandtotal)</p>
                </div>


            </div>
            <div class="row other-details">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <p><span class="other-detail-head">Address : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.cinfo.Address)</span></p>
                    <p><span class="other-detail-head">Nationality : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.cinfo.Country)</span></p>
                    <p><span class="other-detail-head">State : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.cinfo.State)</span></p>
                    <p><span class="other-detail-head">City : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.cinfo.City)</span></p>
                    <p><span class="other-detail-head">Zip Code : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.cinfo.Zipcode)</span></p>
                    <p><span class="other-detail-head">Contact Numbers : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.cinfo.TeleCountryCode)-@Html.DisplayFor(model => model.cinfo.Telephone)/@Html.DisplayFor(model => model.cinfo.MobCountryCode)-@Html.DisplayFor(model => model.cinfo.Mobile)</span></p>
                    <p><span class="other-detail-head">Email Address : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.cinfo.Email)</span></p>
                    <p><span class="other-detail-head">Passport Number : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.dinfo.Passport)</span></p>
                    <p><span class="other-detail-head">Delivery Type : </span>  <span class="other-detail-val"><i class="las la-home"></i> @Html.DisplayFor(model => model.deliverytypevalue)</span></p>
                    <p><span class="other-detail-head">Port Type : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.porttypevalue)</span></p>
                    <p><span class="other-detail-head">Port Name : </span>  <span class="other-detail-val">@Html.DisplayFor(model => model.dinfo.PortName)</span></p>
                    <p class="expected-date"><span class="other-detail-head">Expected Date : </span>  <i class="las la-calendar"></i><span class="other-detail-val">@Html.DisplayFor(model => model.dinfo.DeliveryFrom) - <i class="las la-calendar"></i>@Html.DisplayFor(model => model.dinfo.DeliveryTo)</span></p>
                    @*<p class="inline-txt"><span class="other-detail-head"> Conversion Rate: </span> <span class="other-detail-val">@Html.DisplayFor(model => model.conversionrate)</span></p>*@

                </div>
            </div>

        </div>

        <div class="row pad-rl-20">
            <div class="col-lg-12 mar-t-20">
                <div class="table-responsive table--no-card m-b-30">
                    <table class="table table-borderless table-striped table-earning">
                        <thead>
                            <tr>
                                <th class="table-desc-col">Description</th>
                                <th class="text-center">Fx</th>
                                <th class="text-center">INR</th>
                                <th class="text-center">Action</th>

                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.cashsaledetails != null)
                                @if (Model.cashsaledetails.Count() > 0)
                                {
                                    @foreach (var item in Model.cashsaledetails)
                                    {
                                        <tr>
                                            <td>
                                                <p class="table-description-p">
                                                    <span class="table-stock-number">@Html.DisplayFor(modelItem => item.stockid)</span>
                                                    @if (item.ordertype == "CM")
                                                    {
                                                        <span class="table-type CM">@Html.DisplayFor(modelItem => item.ordertype)</span>
                                                    }
                                                    else
                                                    {
                                                        @if (item.saletype == 3)
                                                        {
                                                            <span class="table-type of">@Html.DisplayFor(modelItem => item.ordertype) </span><i class="table-type CM" style="background-color:blue"> TBM</i>
                                                        }
                                                        else
                                                        {
                                                            <span class="table-type of">@Html.DisplayFor(modelItem => item.ordertype) </span>

                                                        }

                                                        @*<span class="table-type of">@Html.DisplayFor(modelItem => item.ordertype)</span>*@



                                                    }
                                                    @*<span class="table-type of">@Html.DisplayFor(modelItem => item.ordertype)</span>*@
                                                </p>
                                                <p class="table-description-item">@Html.DisplayFor(modelItem => item.itemdesc)</p>

                                            </td>

                                            <td class="text-center">@Html.DisplayFor(modelItem => item.symbol)&nbsp;@Html.DisplayFor(modelItem => item.salevalue)</td>
                                            <td class="text-center">₹&nbsp;@Html.DisplayFor(modelItem => item.salevalueinr)</td>
                                            <td class="text-center">
                                                @Html.ActionLink("", "DeleteSale", "AddSale", new { itemorderid = item.itemorderid }, new { @class = "delete-item  las la-times" })
                                            </td>


                                        </tr>
                                    }
                                }

                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="col-lg-12 mar-t-20">
                    <div class="table-responsive table--no-card m-b-30">
                        <table class="table table-borderless table-striped table-earning">
                            <thead>
                                <tr>
                                    <th class="table-desc-col">Stand</th>
                                    <th>Colour</th>
                                    @*<th class="text-center">Width</th>*@
                                    <th class="text-center">Height<span class="small-txt-br">(Inch)</span></th>
                                    <th class="text-center">Action</th>

                                </tr>
                            </thead>
                            <tbody>
                                @if (Model.standsaledetails != null)
                                    @if (Model.standsaledetails.Count() > 0)
                                    {
                                        @foreach (var item in Model.standsaledetails)
                                        {
                                            <tr>
                                                <td>
                                                    <p class="table-description">@Html.DisplayFor(modelItem => item.standdesc)</p>
                                                    @if (item.ordertype == "CM")
                                                    {
                                                        <p class="table-type CM">@Html.DisplayFor(modelItem => item.ordertype)</p>
                                                    }
                                                    else
                                                    { <p class="table-type of">@Html.DisplayFor(modelItem => item.ordertype)</p>}
                                                    @*<p class="table-type CM">@Html.DisplayFor(modelItem => item.ordertype)</p>*@
                                                </td>
                                                <td>@Html.DisplayFor(modelItem => item.color)</td>
                                                @*<td class="text-center">@Html.DisplayFor(modelItem => item.width)</td>*@
                                                <td class="text-center">@Html.DisplayFor(modelItem => item.height)<text>''</text></td>
                                                <td class="text-center">
                                                    @Html.ActionLink("", "DeleteStand", "AddSale", new { itemorderid = item.itemorderid }, new { @class = "delete-item  las la-times" })
                                                </td>

                                            </tr>

                                        }
                                    }

                                </tbody>
                            </table>
                        </div>
                    </div>

                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 col-6 footer-btn text-left pad-l-20 btns-group">
                    @using (Html.BeginForm("ExportToPDF", "AddSale", new { orderid = Model.orderid }, FormMethod.Post, false, new { target = "_blank", id = "reviewinfo", name = "reviewinfo" }))
                    {

                        <button id="reviewsubmit" class="btn-print"><i class="las la-print"></i>Print</button>
                        @*<button type="submit" value="@Model.orderid" onclick="" class="btn-print"><i class="las la-print"></i> Print</button>*@
                    }


                </div>
                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 col-6 footer-btn text-right pad-r-20 btns-group">
                    <button class="btn-dark-gray" onclick="manaagetab('3')">Back</button>
                    @Html.ActionLink("Finish", "FinishSale", "AddSale", new { orderid = Model.orderid }, new { @class = "btn-pink ", onclick = " return $myDialog.dialog('open');" })
                    @*<button class="btn-pink">Finish</button>*@
                    @*@Html.ActionLink("Finish", "FinishSale", "AddSale", new { orderid = Model.orderid }, new { @class = "btn-pink ", onclick = "$( function() { return $('#dialog-confirm').dialog({ resizable: false,height:'auto',width:400,modal:true,buttons: {'Delete all items': function() {$(this).dialog( 'close' ); return false;},Cancel: function() {$( this ).dialog( 'close' ); return false;}}});});" })*@
                </div>
                </div>



            </div>

        </div>
        <script type="text/javascript">
            //$(document).ready(function () {
            //    var $myDialog = $('<div></div>')
            //        .html('Have you printed the invoice?<br/>Click OK to confirm.  No, Print Invoice Now');
            //        .dialog({
            //            autoOpen: false,
            //            title: 'Print Invoice',
            //            buttons: {
            //                "OK": function () {
            //                    $(this).dialog("close");
            //                    window.open('http://google.com/');
            //                    return true;
            //                },
            //                "Cancel": function () {
            //                    $(this).dialog("close");
            //                    return false;
            //                }
            //            }
            //        });

               
            //});
            //$("#reviewsubmit").click(function () {

            //    $('#btnfinish').prop('disabled', false);
            //    $("#reviewinfo").submit();
            //});

            </script>